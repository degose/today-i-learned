## 데이터베이스의 기초

### 관계형 데이터베이스(RDBMS)
- 예: MySQL, MsSQL, ORACLE
- 데이터가 테이블(table)에 저장되며, 각 태이블은 행(row)과 열(column)로 구성된다.
- 여러 테이블을 묶어 놓은 것을 스키마(schema)라고 한다.
- 테이블에는 적어도 하나의 열이 반드시 있어야 하지만 행의 개수는 0이어도 상관없다.
- 각 열마다 유형(type)이 정해져 있으며, 그 유형에 의해 그 열에 저장될 수 있는 데이터 유형 및 기타 제약 조건 등이 결정된다.
- 열에는 순서가 있지만 행에는 순서가 없다.
- 데이터를 정렬하는 작업은 질의(query)를 통해 데이터베이스에서 데이터를 가져올 때 수행된다.
- 테이블에는 key가 있어야 좋은 디자인이라고 할 수 있다.
- 키(key)는 테이블의 특정 행을 유일하게 식별할 수 있게 해주는 특정 열 또는 열의 모음
- 키 중 하나는 프라이머리 키(primary key)로 지정된다.
- 참조 무결성(referential integrity) : 외부 키(foreign key)를 써서 다른 테이블과 링크(link)시킬 수도 있다. 외부 키를 사용하면 데이터를 섣부르게 삭제하는 일을 예방할 수 있다. -> 다른 테이블의 외부 키로 참조하고 있는 행은 테이블에서 삭제할 수 없기 때문이다. -> 이를 통해 서로 연관된 테이블이 일관된 상태를 유지할 수 있다.
- 가장 널리 쓰이는 방법은 구조적 질의 언어(SQL Structured Query Language)가 있다.

### 데이터베이스 트랜젝션
- 데이터 무결성을 위해 가장 좋은 방법은 데이터베이스 트랜잭션을 사용하는 것이다.
- 트랜젝션(transection)은 한 단위를 이루는 일련의 연관된 데이터베이스 조작을 의미한다.
- 롤백(rollback) : 한 트랜젝션에 속하는 작업 중 하나라도 실패하면 트랜잭션 전체가 실패한 것으로 간주하여 그 트랜잭션에서 데이터베이스를 변경한 내용을 전부 원래대로 되돌려 놓는다.
- 커밋(commit) : 모든 작업이 성공적으로 처리되면 모든 변경 내용을 한꺼번에 반영시킨다.
#### 트랜젝션 특징(ACID)
- 원자성(atomicity) : 트랜잭션에 포함되는 모든 작업이 성공적으로 처리되지 않으면 트랜잭션에 들어있는 어떤 작업도 처리되지 않아야 한다.
- 일관성(consistency) : 트랜잭션은 트랜잭션이 시작되기 전과 트랜잭션이 종료된 후에 데이터베이스가 올바르고 일관성 상태가 되도록 처리되어야 한다.
- 고립성(isolation) : 한 트랜잭션에서 데이터베이스를 변경한 내용은 트랜잭션이 커밋될 때까지 다른 어떤 질의나 트랜잭션과도 고립되어야만 한다.
- 영속성(durability) : 일단 커밋이 되고 나면 트랜잭션에 의해 변경된 내용은 영구적이어야 한다. 데이터베이스 시스템은 데이터베이스의 현재 상태가 유실되지 않도록 시스템 충돌 등의 문제로부터 복구할 수 있는 방법을 갖추고 있어야 한다.
- 대부분의 데이터베이스에서 ACID를 지원하긴 하지만 성능 문제로 인해 고립성 부분에 대해서는 조건을 느슨하게 적용하는 경우가 많다.

### SQL문 예시
- topic 테이블과 user 테이블을 결합해서 새로운 가상의, 논리적인 테이블을 생성
```sql
SELECT title,name From topic LEFT JOIN user ON topic.author = user.id
```

### NoSQL(고성능 비관계형 데이터베이스)
- 빅 데이터의 수집과 저장기술로 MongoDB 등이 있다.
- 문서, 그래프, 키-값, 컬럼 형식 등 다양한 데이터 모델을 사용
- JSON, XML 또는 관련 항목 속성을 포함하는 다른 문서에 일반적으로 사용
- 배포 용이성, 확장 가능한 성능, 고가용성 및 복원력
- 기존 RDBMS가 성능 병목 지점, 확장성, 운영상의 복잡성, 늘어나는 관리 업무 및 지원 비용 문제가 복합적으로 발생하는 것을 보완함
- 최초 테이블 생성 시 데이터간의 관계를 정의하지 않는다. -> 보다 빠른 속도의 설계가 가능
- RDBMS가 가지고 있던 복잡도와 용량의 한계를 극복하며 대용량 데이터를 저장할 수 있게 되었다.
- 하나의 고성능 머신이 데이터서버가 되어 처리하는 Scale Up 방식의 RDBMS와 달리 여러개의 일반 서버를 연결하여 데이터를 분산하고 저장 -> 안정성 확보